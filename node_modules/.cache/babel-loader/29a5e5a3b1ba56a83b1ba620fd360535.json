{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Asus/Desktop/test11070/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/Asus/Desktop/test11070/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Asus/Desktop/test11070/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Asus/Desktop/test11070/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Asus/Desktop/test11070/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Asus\\\\Desktop\\\\test11070\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import\"../stylesheets/projects.css\";import{Container,Form,Button,Row,Col,Badge,FloatingLabel,Popover,Dropdown,ButtonGroup,DropdownButton,OverlayTrigger,FormControl,Modal,ListGroup,InputGroup}from'react-bootstrap';import image_S1 from'../images/abstract10.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UpdateProject=function UpdateProject(_ref){var projectData=_ref.projectData;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),fullscreen=_useState2[0],setFullscreen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showAlert=_useState6[0],setShowAlert=_useState6[1];var handleAlertClose=function handleAlertClose(){setShowAlert(false);};var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),alertMessage=_useState8[0],setAlertMessage=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),alertTitle=_useState10[0],setAlertTitle=_useState10[1];var handleShow=function handleShow(){setFullscreen(true);setShow(true);};var handleHideModal=function handleHideModal(){setShow(false);};var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),smShow=_useState12[0],setSmShow=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),desigModal=_useState14[0],setDesigModal=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),phaseModaInUpdate=_useState16[0],setPhaseModaInUpdate=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),phaseEditModalInUpdate=_useState18[0],setPhaseEditModalInUpdate=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),txtInput=_useState20[0],setTxtInput=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),updateProjectPhases=_useState22[0],setUpdateProjectPhases=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),allfriends=_useState24[0],setAllfriends=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),friends=_useState26[0],setFriends=_useState26[1];var _useState27=useState([]),_useState28=_slicedToArray(_useState27,2),members=_useState28[0],setMembers=_useState28[1];var _useState29=useState([]),_useState30=_slicedToArray(_useState29,2),membersIds=_useState30[0],setMembersIds=_useState30[1];var _useState31=useState(),_useState32=_slicedToArray(_useState31,2),designationInput=_useState32[0],setDesignationInput=_useState32[1];var _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),phaseInput=_useState34[0],setPhaseInput=_useState34[1];var _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),phaseEditInput=_useState36[0],setPhaseEditInput=_useState36[1];var _useState37=useState(\"\"),_useState38=_slicedToArray(_useState37,2),desigId=_useState38[0],setDesigId=_useState38[1];var _useState39=useState([]),_useState40=_slicedToArray(_useState39,2),projectFiles=_useState40[0],setProjectFiles=_useState40[1];var _useState41=useState({projectTitle:\"\",projectDiscription:\"\",startDate:\"\",dueDate:\"\",projectType:\"\"}),_useState42=_slicedToArray(_useState41,2),projectDetails=_useState42[0],setProjectDetails=_useState42[1];var name,value;var handleInputs=function handleInputs(e){name=e.target.name;value=e.target.value;setProjectDetails(_objectSpread(_objectSpread({},projectDetails),{},_defineProperty({},name,value)));};var handleFiles=function handleFiles(e){var myfiles=e.target.files;console.log(myfiles);setProjectFiles(myfiles);};var getFriends=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('https://taskhive-backend-testing.onrender.com/getFriends',{method:'GET'});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;console.log(data);setAllfriends(data);setFriends(data);console.log(data);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return function getFriends(){return _ref2.apply(this,arguments);};}();useEffect(function(){getFriends();},[]);var forUpdatingProject=function forUpdatingProject(){if(projectData.currentProject){var getMembers=[];var getMembersIds=[];projectData.currentProject.members.map(function(element){var findMember=projectData.allfriends.find(function(element1){return element1._id===element.memberRef;});getMembersIds.push(findMember._id);var memberWithDesig=Object.assign(findMember,{designation:element.designation});getMembers.push(memberWithDesig);});// console.log(projectSelected)\nsetMembersIds(getMembersIds);setMembers(getMembers);setUpdateProjectPhases(projectData.currentProject.projectPhases);}};useEffect(function(){forUpdatingProject();},[projectData.currentProject]);var handelDesigInput=function handelDesigInput(e){var input=e.target.value;setDesignationInput(input);console.log(designationInput);};var showSearchResult=function showSearchResult(){if(txtInput===\"\"){// console.log(\"AA\")\nsetAllfriends(friends);}else{var newList=allfriends.filter(function(element){return element.name.toLowerCase().includes(txtInput.toLowerCase());});setAllfriends(newList);}};useEffect(function(){showSearchResult();},[txtInput]);var handelChange=function handelChange(e){setTxtInput(e.target.value);// console.log(txtInput)\nshowSearchResult();};var addMember=function addMember(e){var id=e.target.id;if(projectData.currentProject){var getProfile=members.find(function(element){return element._id===id;});if(getProfile){projectData.currentProject.members.map(function(element){if(element.memberRef===id){window.alert(\"Exisiting Member\");}});}else{var _getProfile=projectData.allfriends.find(function(element){return element._id===id;});setMembersIds(function(membersIds){return[].concat(_toConsumableArray(membersIds),[_getProfile._id]);});setMembers(function(members){return[].concat(_toConsumableArray(members),[_getProfile]);});var newList=projectData.allfriends.filter(function(friendId){return friendId._id!==id;});setAllfriends(newList);}}else{var _getProfile2=projectData.allfriends.find(function(element){return element._id===id;});setMembersIds(function(membersIds){return[].concat(_toConsumableArray(membersIds),[_getProfile2._id]);});setMembers(function(members){return[].concat(_toConsumableArray(members),[_getProfile2]);});var _newList=projectData.allfriends.filter(function(friendId){return friendId._id!==id;});setAllfriends(_newList);}};var removeMember=function removeMember(e){var id=e.target.id;var getProfile=members.find(function(element){return element._id===id;});var getfriends=allfriends.find(function(element){return element._id===id;});if(!getfriends){console.log(\"done\");setAllfriends(function(allfriends){return[].concat(_toConsumableArray(allfriends),[getProfile]);});}var newList=members.filter(function(friendId){return friendId._id!==id;});var newIds=membersIds.filter(function(ids){return ids!==id;});setMembersIds(newIds);// console.log(newList)\nsetMembers(newList);};var removeFile=function removeFile(e){var fileId=e.target.id;var removeSelectedFile=projectData.currentProject.projectFiles.filter(function(element1){return element1._id!==fileId;});projectData.currentProject.projectFiles=removeSelectedFile;// let listedFiles = document.getElementById(\"filesList\")\nvar selectedfile=document.getElementById(\"aa\"+fileId);console.log(selectedfile);while(selectedfile.hasChildNodes()){selectedfile.removeChild(selectedfile.firstChild);}// let x = listedFiles.removeChild(selectedfile);\n};var handleUpdateProject=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var addDesig,startDate,dueDate,projectDiscription,projectTitle,projectType,formData,i,response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();console.log(membersIds);addDesig=[];membersIds.map(function(membersIds){var singleId=document.getElementById(membersIds);addDesig.push({memberRef:membersIds,designation:singleId.innerText});});startDate=document.getElementById(\"startDate\");dueDate=document.getElementById(\"dueDate\");projectDiscription=document.getElementById(\"projectDiscription\");projectTitle=document.getElementById(\"projectTitle\");projectType=document.getElementById(\"projectType\");formData=new FormData();formData.append('projectTitle',projectTitle.value);formData.append('projectDiscription',projectDiscription.value);formData.append('startDate',startDate.value);formData.append('dueDate',dueDate.value);formData.append('projectType',projectType.value);formData.append('projectId',JSON.stringify(projectData.currentProject._id));formData.append('projectMembers',JSON.stringify(members));formData.append('projectDesig',JSON.stringify(addDesig));formData.append('existingFiles',JSON.stringify(projectData.currentProject.projectFiles));formData.append('projectPhases',JSON.stringify(updateProjectPhases));for(i=0;i<projectFiles.length;i++){formData.append('projectFiles',projectFiles[i]);}console.log(updateProjectPhases);if(!(updateProjectPhases.length>0)){_context2.next=38;break;}_context2.prev=23;_context2.next=26;return fetch('https://taskhive-backend-testing.onrender.com/updatingProject',{method:\"POST\",body:formData});case 26:response=_context2.sent;_context2.next=29;return response.json();case 29:data=_context2.sent;if(response.status===201&&data){setAlertTitle(\"Alert\");setAlertMessage(\"Project Updated.\");setShowAlert(true);projectData.setFecthTasks(data);}_context2.next=36;break;case 33:_context2.prev=33;_context2.t0=_context2[\"catch\"](23);console.log(_context2.t0);case 36:_context2.next=41;break;case 38:setAlertTitle(\"Alert\");setAlertMessage(\"Please fill all the fields.\");setShowAlert(true);case 41:case\"end\":return _context2.stop();}}},_callee2,null,[[23,33]]);}));return function handleUpdateProject(_x){return _ref3.apply(this,arguments);};}();var changeDesig=function changeDesig(e){setDesigId(e.target.id);setDesigModal(true);};var handleDeisgBtn=function handleDeisgBtn(){console.log(designationInput);var desigTag=document.getElementById(desigId);desigTag.innerText=designationInput;setDesigModal(false);// console.log(desigTag.innerText)\n};var handlePhasesInputInUpdate=function handlePhasesInputInUpdate(e){var form=e.currentTarget;e.preventDefault();if(updateProjectPhases.length<=9&&phaseInput){var checkPhase=updateProjectPhases.find(function(element1){return element1.PhaseTitle===phaseInput;});if(checkPhase){setAlertTitle(\"Alert\");setAlertMessage(\"Phase title already exist, Choose a different title.\");setShowAlert(true);}else{if(phaseInput){var phaseObj={PhaseTitle:phaseInput,PhaseNum:\"\"};setUpdateProjectPhases(function(updateProjectPhases){return[].concat(_toConsumableArray(updateProjectPhases),[phaseObj]);});}else{return;}}}else{setAlertTitle(\"Alert\");setAlertMessage(\"Please add minimum 1 or maximum 10 phases per project.\");setShowAlert(true);}setPhaseInput(\"\");form.reset();};var removePhaseInUpdate=function removePhaseInUpdate(e){var phaseName=e.target.id;var removeSelectedPhase=updateProjectPhases.filter(function(element1){return element1.PhaseTitle!==phaseName;});setUpdateProjectPhases(removeSelectedPhase);};var editPhaseInUpdate=function editPhaseInUpdate(e){var phaseName=e.target.id;setPhaseEditInput(phaseName);setPhaseEditModalInUpdate(true);};var handlePhaseEditInUpdate=function handlePhaseEditInUpdate(e){var form=e.currentTarget;e.preventDefault();console.log(phaseInput);var checkIndex;updateProjectPhases.map(function(element,index){if(element.PhaseTitle===phaseEditInput){checkIndex=index;};});updateProjectPhases[checkIndex].PhaseTitle=phaseInput;setPhaseInput(\"\");form.reset();setPhaseEditModalInUpdate(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"selectedListItem\",onClick:handleShow,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-edit chat-icon\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Update Project\"]}),/*#__PURE__*/_jsxs(Modal,{show:show,fullscreen:fullscreen,onHide:handleHideModal,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"modalHeader\",children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Update Project\"})}),/*#__PURE__*/_jsxs(Modal.Body,{className:\"modalBody\",children:[projectData.currentProject?/*#__PURE__*/_jsx(Form,{method:\"POST\",className:\"contactForm\",name:\"projectForm\",id:\"projectForm\",children:/*#__PURE__*/_jsxs(Container,{className:\"formCont\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"formTxt\",children:\"Update Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"projectTitle\",className:\"formInput\",id:\"projectTitle\",defaultValue:projectData.currentProject.projectTitle,placeholder:\"Enter Task\"})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3 inputGroup\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"formTxt\",children:\"Type\"}),/*#__PURE__*/_jsxs(Form.Select,{name:\"projectType\",id:\"projectType\",className:\"formInput\",defaultValue:projectData.currentProject.projectType,children:[/*#__PURE__*/_jsx(\"option\",{className:\"listOption\",value:\"N/A\",children:\"N/A\"}),/*#__PURE__*/_jsx(\"option\",{className:\"listOption\",value:\"Personal\",children:\"Personal\"}),/*#__PURE__*/_jsx(\"option\",{className:\"listOption\",value:\"Team\",children:\"Team\"})]})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Discription\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,name:\"projectDiscription\",className:\"formInput\",id:\"projectDiscription\",defaultValue:projectData.currentProject.projectDiscription})]})})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3 inputGroup\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"formTxt\",children:\"Start Date\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",name:\"startDate\",id:\"startDate\",className:\"formInput\",defaultValue:projectData.currentProject.startDate.substring(0,10),placeholder:\"date\"})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3 inputGroup\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"formTxt\",children:\"Due Date\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",name:\"dueDate\",id:\"dueDate\",className:\"formInput\",defaultValue:projectData.currentProject.dueDate.substring(0,10),placeholder:\"date\"})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Add files\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",multiple:true,name:\"projectFiles\",id:\"projectFiles\",className:\"formInput\",onChange:handleFiles})]}),projectData.currentProject.projectFiles.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Existing Files\"}),/*#__PURE__*/_jsx(ListGroup,{className:\"filesList\",children:projectData.currentProject.projectFiles.map(function(allfiles,index){return/*#__PURE__*/_jsxs(ListGroup.Item,{as:\"li\",className:\"d-flex justify-content-between align-items-start singlefile\",id:\"aa\"+allfiles._id,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ms-2 me-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:allfiles.fileName}),Math.floor(allfiles.fileSize/1000000)+'MB']}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash phaseTrashBtn\",id:allfiles._id,onClick:removeFile})]},index);})})]}):/*#__PURE__*/_jsx(ListGroup,{children:/*#__PURE__*/_jsx(ListGroup.Item,{className:\"singlefile\",children:\"No Existing Files\"})})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Add Project Phases\"}),/*#__PURE__*/_jsx(Button,{className:\"addMembers\",onClick:function onClick(){return setPhaseModaInUpdate(true);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus\"})}),/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",className:\"teamlist\",children:updateProjectPhases.map(function(element,index){return/*#__PURE__*/_jsx(ListGroup.Item,{as:\"li\",className:\"phaseListItem\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{sm:true,lg:8,children:[\" Phase \",index+1,\" \",element.PhaseTitle,\"   \"]}),/*#__PURE__*/_jsxs(Col,{sm:true,lg:2,children:[\"  \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-edit phaseEditBtn\",id:element.PhaseTitle,onClick:editPhaseInUpdate}),\"  \",/*#__PURE__*/_jsx(\"br\",{}),\" \"]}),/*#__PURE__*/_jsxs(Col,{sm:true,lg:2,children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash phaseTrashBtn\",id:element.PhaseTitle,onClick:removePhaseInUpdate}),\"     \"]})]})})},index);})})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Add Team Members\"}),/*#__PURE__*/_jsx(Button,{className:\"addMembers\",onClick:function onClick(){return setSmShow(true);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus\"})}),/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",className:\"teamlist\",children:members.map(function(members,index){return/*#__PURE__*/_jsx(ListGroup.Item,{as:\"li\",className:\"d-flex justify-content-between align-items-start phaseListItem\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{className:\"justify-content-md-center\",children:[/*#__PURE__*/_jsx(Col,{lg:\"3\",children:/*#__PURE__*/_jsx(\"img\",{src:members.image,onError:function onError(e){e.target.onError=null;e.target.src=image_S1;},className:\"profileImages\"})}),/*#__PURE__*/_jsx(Col,{lg:\"3\",children:/*#__PURE__*/_jsx(\"h6\",{children:members.name})}),/*#__PURE__*/_jsx(Col,{lg:\"4\",children:members.designation?/*#__PURE__*/_jsx(\"p\",{id:members._id,onClick:changeDesig,className:\"changeDesig\",children:members.designation}):/*#__PURE__*/_jsx(\"p\",{id:members._id,onClick:changeDesig,className:\"changeDesig\",children:\"Add Designation\"})}),/*#__PURE__*/_jsx(Col,{lg:\"2\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash phaseTrashBtn\",id:members._id,onClick:removeMember})})]})})},index);})})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Row,{className:\"justify-content-md-center\",children:/*#__PURE__*/_jsx(Col,{sm:true,lg:5,children:/*#__PURE__*/_jsx(Button,{className:\"projectSubmitBtn\",variant:\"primary\",type:\"submit\",onClick:handleUpdateProject,children:\"Update Project\"})})})]})}):/*#__PURE__*/_jsx(\"p\",{children:\"No selected Project\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})]}),/*#__PURE__*/_jsxs(Modal,{size:\"sm\",show:smShow,onHide:function onHide(){return setSmShow(false);},\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"modalHeader\",children:/*#__PURE__*/_jsx(Modal.Title,{id:\"example-modal-sizes-title-sm\",children:\"Add Members\"})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"modalBody\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(InputGroup,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Control,{placeholder:\"Search Members\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"basic-addon2\",value:txtInput,onChange:handelChange,className:\"formInput\"})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:allfriends.map(function(allfriends,index){return/*#__PURE__*/_jsx(ListGroup.Item,{as:\"li\",className:\"d-flex justify-content-between align-items-start membersList\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"img\",{src:allfriends.image,onError:function onError(e){e.target.onError=null;e.target.src=image_S1;},className:\"profileImages\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"p\",{children:allfriends.name})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus addFriendIcon\",id:allfriends._id,onClick:addMember})})]})},index);})})})})]})})]}),/*#__PURE__*/_jsxs(Modal,{size:\"sm\",show:desigModal,onHide:function onHide(){return setDesigModal(false);},\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"modalHeader\",children:/*#__PURE__*/_jsx(Modal.Title,{id:\"example-modal-sizes-title-sm\",children:\"Add Designation\"})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"modalBody\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(InputGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(FormControl,{placeholder:\"Enter Designation\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"basic-addon2\",className:\"formInput\",onChange:handelDesigInput}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",className:\"searchBtn\",id:\"button-addon2\",onClick:handleDeisgBtn,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus\"})})]})})})})})]}),/*#__PURE__*/_jsxs(Modal,{size:\"sm\",show:phaseModaInUpdate,onHide:function onHide(){return setPhaseModaInUpdate(false);},\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"modalHeader\",children:/*#__PURE__*/_jsx(Modal.Title,{id:\"example-modal-sizes-title-sm\",children:\"Project Phases\"})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"modalBody\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"You can only add 1 to 10 phases per project.\"}),/*#__PURE__*/_jsxs(Form,{noValidate:true,onSubmit:handlePhasesInputInUpdate,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"validationCustom01\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Phase Title\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"text\",placeholder:\"Phase Title\",onChange:function onChange(e){return setPhaseInput(e.target.value);},isValid:phaseInput,className:\"formInput\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Invalid Input\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"phaseBtn\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus\"})})]})]})})]}),/*#__PURE__*/_jsxs(Modal,{size:\"sm\",show:phaseEditModalInUpdate,onHide:function onHide(){return setPhaseEditModalInUpdate(false);},\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"modalHeader\",children:/*#__PURE__*/_jsx(Modal.Title,{id:\"example-modal-sizes-title-sm\",children:\"Edit Phases\"})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"modalBody\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Form,{noValidate:true,onSubmit:handlePhaseEditInUpdate,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"validationCustom01\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Phase Title \"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"text\",placeholder:\"Phase Title\",defaultValue:phaseEditInput,onChange:function onChange(e){return setPhaseInput(e.target.value);},isValid:phaseInput,className:\"formInput\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Invalid Input\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"saveBtnPhase\",children:\"Save Changes\"})]})})})]}),/*#__PURE__*/_jsxs(Modal,{size:\"sm\",show:showAlert,onHide:handleAlertClose,backdrop:\"static\",keyboard:false,\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"modalHeader\",children:/*#__PURE__*/_jsx(Modal.Title,{id:\"example-modal-sizes-title-sm\",children:alertTitle})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"modalBodyStatic\",children:/*#__PURE__*/_jsx(\"p\",{children:alertMessage})}),/*#__PURE__*/_jsx(Modal.Footer,{className:\"modalFooter\",children:/*#__PURE__*/_jsx(Button,{className:\"saveBtn\",onClick:handleAlertClose,children:\"Ok\"})})]})]});};export default UpdateProject;","map":{"version":3,"sources":["C:/Users/Asus/Desktop/test11070/src/components/UpdateProject.js"],"names":["React","useState","useEffect","useNavigate","Container","Form","Button","Row","Col","Badge","FloatingLabel","Popover","Dropdown","ButtonGroup","DropdownButton","OverlayTrigger","FormControl","Modal","ListGroup","InputGroup","image_S1","UpdateProject","projectData","fullscreen","setFullscreen","show","setShow","showAlert","setShowAlert","handleAlertClose","alertMessage","setAlertMessage","alertTitle","setAlertTitle","handleShow","handleHideModal","smShow","setSmShow","desigModal","setDesigModal","phaseModaInUpdate","setPhaseModaInUpdate","phaseEditModalInUpdate","setPhaseEditModalInUpdate","txtInput","setTxtInput","updateProjectPhases","setUpdateProjectPhases","allfriends","setAllfriends","friends","setFriends","members","setMembers","membersIds","setMembersIds","designationInput","setDesignationInput","phaseInput","setPhaseInput","phaseEditInput","setPhaseEditInput","desigId","setDesigId","projectFiles","setProjectFiles","projectTitle","projectDiscription","startDate","dueDate","projectType","projectDetails","setProjectDetails","name","value","handleInputs","e","target","handleFiles","myfiles","files","console","log","getFriends","fetch","method","response","json","data","forUpdatingProject","currentProject","getMembers","getMembersIds","map","element","findMember","find","element1","_id","memberRef","push","memberWithDesig","Object","assign","designation","projectPhases","handelDesigInput","input","showSearchResult","newList","filter","toLowerCase","includes","handelChange","addMember","id","getProfile","window","alert","friendId","removeMember","getfriends","newIds","ids","removeFile","fileId","removeSelectedFile","selectedfile","document","getElementById","hasChildNodes","removeChild","firstChild","handleUpdateProject","preventDefault","addDesig","singleId","innerText","formData","FormData","append","JSON","stringify","i","length","body","status","setFecthTasks","changeDesig","handleDeisgBtn","desigTag","handlePhasesInputInUpdate","form","currentTarget","checkPhase","PhaseTitle","phaseObj","PhaseNum","reset","removePhaseInUpdate","phaseName","removeSelectedPhase","editPhaseInUpdate","handlePhaseEditInUpdate","checkIndex","index","substring","allfiles","fileName","Math","floor","fileSize","image","onError","src"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport \"../stylesheets/projects.css\"\r\nimport {Container, Form, Button, Row, Col, Badge, FloatingLabel, Popover, Dropdown, ButtonGroup, DropdownButton, OverlayTrigger, FormControl, Modal, ListGroup, InputGroup } from 'react-bootstrap';\r\nimport image_S1 from '../images/abstract10.png'\r\n\r\n\r\nconst UpdateProject = ({projectData}) => {\r\n    \r\n    const [fullscreen, setFullscreen] = useState(true);\r\n    const [show, setShow] = useState(false);\r\n    const [showAlert, setShowAlert] = useState(false);\r\n    const handleAlertClose = () =>{setShowAlert(false);}\r\n    const [alertMessage, setAlertMessage] = useState(\"\");\r\n    const [alertTitle, setAlertTitle] = useState(\"\");\r\n    const handleShow = () => {setFullscreen(true); setShow(true);}\r\n    const handleHideModal = () =>{setShow(false);}\r\n    const [smShow, setSmShow] = useState(false);\r\n    const [desigModal, setDesigModal] = useState(false);\r\n    const [phaseModaInUpdate, setPhaseModaInUpdate] = useState(false);  \r\n    const [phaseEditModalInUpdate, setPhaseEditModalInUpdate] = useState(false);\r\n    const [txtInput, setTxtInput] = useState(\"\");\r\n    const [updateProjectPhases, setUpdateProjectPhases] = useState([]);\r\n    const [allfriends, setAllfriends] = useState([]);\r\n    const [friends, setFriends] = useState([]);\r\n    const [members, setMembers] = useState([]);\r\n    const [membersIds, setMembersIds] = useState([]);\r\n    const [designationInput, setDesignationInput] = useState();\r\n    const [phaseInput, setPhaseInput] = useState(\"\");\r\n    const [phaseEditInput, setPhaseEditInput] = useState(\"\");\r\n    const [desigId, setDesigId] = useState(\"\");\r\n    const [projectFiles, setProjectFiles] = useState([]);\r\n    const [projectDetails, setProjectDetails] = useState({\r\n        projectTitle : \"\",\r\n        projectDiscription : \"\",\r\n        startDate : \"\",\r\n        dueDate : \"\",\r\n        projectType : \"\",\r\n    });\r\n\r\n    let name, value;\r\n\r\n    const handleInputs = (e) =>{ \r\n        name = e.target.name;\r\n        value = e.target.value;\r\n        \r\n        setProjectDetails({...projectDetails, [name]:value});\r\n    }\r\n\r\n    \r\n    \r\n    \r\n    const handleFiles = (e) =>{\r\n        let myfiles = e.target.files \r\n        console.log(myfiles)\r\n        setProjectFiles(myfiles);\r\n        \r\n    }\r\n\r\n\r\n    const getFriends = async () =>{\r\n        try {\r\n            const response = await fetch('https://taskhive-backend-testing.onrender.com/getFriends', {\r\n                method: 'GET',\r\n            })\r\n\r\n            const data = await response.json();\r\n            console.log(data)\r\n            setAllfriends(data);\r\n            setFriends(data);\r\n            console.log(data)\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        getFriends();\r\n    },[])\r\n\r\n\r\n    const forUpdatingProject = () =>{       \r\n\r\n        if(projectData.currentProject){\r\n            let getMembers = []\r\n            let getMembersIds = []\r\n            projectData.currentProject.members.map((element)=>{\r\n                let findMember = projectData.allfriends.find(element1 => element1._id === element.memberRef)\r\n                getMembersIds.push(findMember._id)\r\n                let memberWithDesig = Object.assign(findMember, {designation: element.designation})\r\n                getMembers.push(memberWithDesig)\r\n            })\r\n            // console.log(projectSelected)\r\n            setMembersIds(getMembersIds)\r\n            setMembers(getMembers)\r\n            setUpdateProjectPhases(projectData.currentProject.projectPhases)\r\n\r\n           \r\n        }\r\n       \r\n    }\r\n\r\n    useEffect(()=>{\r\n        forUpdatingProject();\r\n    },[projectData.currentProject])\r\n\r\n\r\n\r\n    const handelDesigInput = (e) =>{\r\n        let input = e.target.value\r\n\r\n        setDesignationInput(input)\r\n\r\n        console.log(designationInput)\r\n    }\r\n\r\n\r\n\r\n    const showSearchResult = () =>{\r\n\r\n        if(txtInput === \"\"){\r\n            // console.log(\"AA\")\r\n            setAllfriends(friends) \r\n        }\r\n        else{\r\n            let newList = allfriends.filter((element) =>{\r\n                return element.name.toLowerCase().includes(txtInput.toLowerCase())\r\n            })\r\n\r\n            setAllfriends(newList) \r\n        }\r\n\r\n        \r\n\r\n    }\r\n\r\n\r\n    useEffect(()=>{\r\n        showSearchResult();\r\n    },[txtInput])\r\n\r\n    const handelChange = (e) =>{\r\n        setTxtInput(e.target.value)\r\n        // console.log(txtInput)\r\n        showSearchResult();\r\n    }\r\n\r\n\r\n    \r\n\r\n    const addMember = (e) =>{\r\n        let id = e.target.id;\r\n\r\n        if(projectData.currentProject){\r\n            let getProfile = members.find(element => element._id === id);\r\n            if(getProfile){\r\n                projectData.currentProject.members.map((element)=>{\r\n                    if(element.memberRef === id){\r\n                        window.alert(\"Exisiting Member\")\r\n                    }\r\n                })\r\n            }\r\n            else{\r\n                let getProfile = projectData.allfriends.find(element => element._id === id);\r\n        \r\n            setMembersIds(membersIds => [...membersIds, getProfile._id])\r\n    \r\n            setMembers(members => [...members, getProfile])\r\n    \r\n    \r\n            const newList = projectData.allfriends.filter(friendId => {\r\n                return friendId._id !== id;\r\n            })\r\n            \r\n            setAllfriends(newList) \r\n            }\r\n           \r\n           \r\n        }\r\n        else{\r\n            let getProfile = projectData.allfriends.find(element => element._id === id);\r\n        \r\n            setMembersIds(membersIds => [...membersIds, getProfile._id])\r\n    \r\n            setMembers(members => [...members, getProfile])\r\n    \r\n    \r\n            const newList = projectData.allfriends.filter(friendId => {\r\n                return friendId._id !== id;\r\n            })\r\n            \r\n            setAllfriends(newList)  \r\n        }\r\n\r\n             \r\n        \r\n    }\r\n\r\n    const removeMember = (e) =>{\r\n        let id = e.target.id;\r\n\r\n        let getProfile = members.find(element => element._id === id);\r\n        let getfriends = allfriends.find(element => element._id === id);\r\n\r\n        if(!getfriends){\r\n            console.log(\"done\")\r\n            setAllfriends(allfriends => [...allfriends, getProfile])\r\n        }\r\n        \r\n\r\n        const newList = members.filter(friendId => {\r\n            return friendId._id !== id;\r\n        })\r\n\r\n        const newIds = membersIds.filter(ids => {\r\n            return ids !== id\r\n        })\r\n        setMembersIds(newIds)\r\n        // console.log(newList)\r\n        setMembers(newList)\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    const removeFile = (e) =>{\r\n        let fileId = e.target.id;\r\n\r\n        let removeSelectedFile = projectData.currentProject.projectFiles.filter(element1 => element1._id !== fileId)\r\n\r\n        projectData.currentProject.projectFiles = removeSelectedFile\r\n\r\n        // let listedFiles = document.getElementById(\"filesList\")\r\n        let selectedfile = document.getElementById(\"aa\"+fileId)\r\n        console.log(selectedfile)\r\n        \r\n        while (selectedfile.hasChildNodes()) {\r\n            selectedfile.removeChild(selectedfile.firstChild);\r\n        }\r\n        // let x = listedFiles.removeChild(selectedfile);\r\n        \r\n    }\r\n\r\n   \r\n\r\n    const handleUpdateProject = async (e) =>{\r\n        e.preventDefault();\r\n        console.log(membersIds)\r\n        let addDesig = []\r\n\r\n        membersIds.map((membersIds)=>{\r\n            let singleId = document.getElementById(membersIds)\r\n            addDesig.push({memberRef: membersIds, designation: singleId.innerText})\r\n        })\r\n\r\n        let startDate = document.getElementById(\"startDate\");\r\n        let dueDate = document.getElementById(\"dueDate\");\r\n        let projectDiscription = document.getElementById(\"projectDiscription\");\r\n        let projectTitle = document.getElementById(\"projectTitle\");\r\n        let projectType = document.getElementById(\"projectType\");\r\n        \r\n        \r\n        let formData = new FormData();\r\n        formData.append('projectTitle', projectTitle.value)\r\n        formData.append('projectDiscription', projectDiscription.value)\r\n        formData.append('startDate', startDate.value)\r\n        formData.append('dueDate', dueDate.value)\r\n        formData.append('projectType', projectType.value)\r\n        formData.append('projectId', JSON.stringify(projectData.currentProject._id))\r\n        formData.append('projectMembers', JSON.stringify(members))\r\n        formData.append('projectDesig', JSON.stringify(addDesig))\r\n        formData.append('existingFiles', JSON.stringify(projectData.currentProject.projectFiles))\r\n        formData.append('projectPhases', JSON.stringify(updateProjectPhases))\r\n        for(let i=0; i < projectFiles.length; i++){\r\n            formData.append('projectFiles', projectFiles[i])\r\n        }\r\n        \r\n        console.log(updateProjectPhases)\r\n\r\n        if(updateProjectPhases.length > 0){\r\n            try {\r\n                const response = await fetch('https://taskhive-backend-testing.onrender.com/updatingProject', {\r\n                    method: \"POST\",\r\n                    body: formData\r\n                      \r\n                });\r\n        \r\n                const data = await response.json();\r\n    \r\n                if(response.status === 201 && data){\r\n                    setAlertTitle(\"Alert\");\r\n                    setAlertMessage(\"Project Updated.\");\r\n                    setShowAlert(true);\r\n                    projectData.setFecthTasks(data);\r\n                }\r\n                \r\n            } catch (error) {\r\n               console.log(error); \r\n            }\r\n        }\r\n        else{\r\n            setAlertTitle(\"Alert\")\r\n            setAlertMessage(\"Please fill all the fields.\");\r\n            setShowAlert(true);\r\n        }\r\n        \r\n       \r\n\r\n    }\r\n\r\n    const changeDesig = (e) =>{\r\n        setDesigId(e.target.id )\r\n        setDesigModal(true)\r\n    }\r\n\r\n    const handleDeisgBtn = () =>{\r\n        console.log(designationInput)\r\n        let desigTag = document.getElementById(desigId)\r\n        desigTag.innerText = designationInput\r\n        setDesigModal(false)\r\n        // console.log(desigTag.innerText)\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n   const handlePhasesInputInUpdate = (e) =>{\r\n        const form = e.currentTarget;\r\n        e.preventDefault();\r\n\r\n        if(updateProjectPhases.length <= 9 && phaseInput){\r\n            let checkPhase = updateProjectPhases.find(element1 => element1.PhaseTitle === phaseInput);\r\n            if(checkPhase){\r\n                setAlertTitle(\"Alert\")\r\n                setAlertMessage(\"Phase title already exist, Choose a different title.\");\r\n                setShowAlert(true);\r\n            }\r\n            else{\r\n                if(phaseInput){\r\n                    let phaseObj = {\r\n                        PhaseTitle: phaseInput,\r\n                        PhaseNum: \"\"\r\n                    }\r\n                    setUpdateProjectPhases(updateProjectPhases => [...updateProjectPhases, phaseObj])\r\n                }\r\n                else{\r\n                    return;\r\n                }  \r\n            }\r\n        }\r\n        else{\r\n            setAlertTitle(\"Alert\")\r\n            setAlertMessage(\"Please add minimum 1 or maximum 10 phases per project.\");\r\n            setShowAlert(true);\r\n        }\r\n        \r\n        setPhaseInput(\"\")\r\n        form.reset();\r\n    }\r\n\r\n\r\n   const removePhaseInUpdate = (e) =>{\r\n        let phaseName = e.target.id;\r\n        let removeSelectedPhase = updateProjectPhases.filter(element1 => element1.PhaseTitle !== phaseName);\r\n        setUpdateProjectPhases(removeSelectedPhase)\r\n   }\r\n\r\n      \r\n   const editPhaseInUpdate = (e) =>{\r\n        let phaseName = e.target.id;\r\n        setPhaseEditInput(phaseName)\r\n        setPhaseEditModalInUpdate(true)\r\n   }\r\n\r\n\r\n   const handlePhaseEditInUpdate = (e) =>{\r\n        const form = e.currentTarget;\r\n        e.preventDefault();\r\n        console.log(phaseInput)\r\n\r\n        let checkIndex;\r\n        \r\n        updateProjectPhases.map((element, index)=>{\r\n            if(element.PhaseTitle === phaseEditInput){\r\n                checkIndex = index;\r\n            };\r\n        });\r\n\r\n        updateProjectPhases[checkIndex].PhaseTitle = phaseInput;\r\n\r\n        setPhaseInput(\"\")\r\n        form.reset();\r\n        setPhaseEditModalInUpdate(false)\r\n   }\r\n\r\n  return (\r\n    <>\r\n        \r\n        \r\n        <ListGroup.Item className='selectedListItem' onClick={handleShow}>\r\n            <i className='fa fa-edit chat-icon'></i>         \r\n            <br></br>\r\n            Update Project\r\n        </ListGroup.Item>\r\n     \r\n        <Modal show={show} fullscreen={fullscreen} onHide={handleHideModal}>\r\n            <Modal.Header closeButton className='modalHeader'>\r\n                <Modal.Title>Update Project</Modal.Title>\r\n            </Modal.Header>\r\n        <Modal.Body className='modalBody'>\r\n            {projectData.currentProject ?\r\n            \r\n            <Form method='POST' className='contactForm' name='projectForm' id='projectForm'>\r\n            <Container className='formCont'>\r\n                <Row>\r\n                    <Col>\r\n                    <Form.Group className=\"mb-3\" >\r\n                        <Form.Label className='formTxt'>Update Title</Form.Label>\r\n                        <Form.Control type=\"text\" name='projectTitle' className='formInput' id='projectTitle' defaultValue={projectData.currentProject.projectTitle} placeholder=\"Enter Task\" />\r\n                    </Form.Group>\r\n                    </Col>\r\n                    <Col>\r\n                    <Form.Group className=\"mb-3 inputGroup\" >\r\n                        <Form.Label className='formTxt'>Type</Form.Label>\r\n                        <Form.Select name='projectType' id='projectType' className='formInput' defaultValue={projectData.currentProject.projectType}>                \r\n                            <option className='listOption' value='N/A'>N/A</option>               \r\n                            <option className='listOption' value='Personal'>Personal</option>               \r\n                            <option className='listOption' value='Team'>Team</option>              \r\n                        </Form.Select>\r\n                    </Form.Group>\r\n  \r\n                </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                    <Form.Group className=\"mb-3\">\r\n                        <Form.Label>Discription</Form.Label>\r\n                        <Form.Control as=\"textarea\" rows={3} name='projectDiscription' className='formInput' id='projectDiscription' defaultValue={projectData.currentProject.projectDiscription}/>\r\n                    </Form.Group>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                <Col>\r\n                <Form.Group className=\"mb-3 inputGroup\" >\r\n                    <Form.Label className='formTxt'>Start Date</Form.Label>\r\n                    <Form.Control type=\"date\" name='startDate' id='startDate' className='formInput' defaultValue={projectData.currentProject.startDate.substring(0,10)} placeholder=\"date\" />\r\n                </Form.Group>\r\n                </Col>\r\n                <Col>\r\n                <Form.Group className=\"mb-3 inputGroup\" >\r\n                    <Form.Label className='formTxt'>Due Date</Form.Label>\r\n                    <Form.Control type=\"date\" name='dueDate' id='dueDate' className='formInput' defaultValue={projectData.currentProject.dueDate.substring(0,10)} placeholder=\"date\" />\r\n                </Form.Group>\r\n                </Col>\r\n                \r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                    <Form.Group className=\"mb-3\">\r\n                        <Form.Label>Add files</Form.Label>\r\n                        <Form.Control type=\"file\" multiple name='projectFiles' id='projectFiles' className='formInput' onChange={handleFiles}/>\r\n                    </Form.Group>\r\n\r\n                    {projectData.currentProject.projectFiles.length > 0 ?\r\n                    <>\r\n                    <Form.Label>Existing Files</Form.Label>\r\n                    <ListGroup className=\"filesList\" >\r\n                        {projectData.currentProject.projectFiles.map((allfiles, index) =>\r\n                        <ListGroup.Item\r\n                            as=\"li\"\r\n                            className=\"d-flex justify-content-between align-items-start singlefile\"\r\n                            key={index}\r\n                            id={\"aa\"+allfiles._id}\r\n                        >\r\n                        <div className=\"ms-2 me-auto\">\r\n                        <div className=\"fw-bold\">{allfiles.fileName}</div>\r\n                        {Math.floor(allfiles.fileSize/1000000) + 'MB'}\r\n                        </div>\r\n                        \r\n                        <i className=\"fa fa-trash phaseTrashBtn\" id={allfiles._id} onClick={removeFile}></i>\r\n                        \r\n                        </ListGroup.Item>\r\n                        )}\r\n                    </ListGroup>\r\n                    </>\r\n                    :\r\n\r\n                    <ListGroup>\r\n                            <ListGroup.Item className='singlefile'>No Existing Files</ListGroup.Item>\r\n                    </ListGroup>\r\n                    }\r\n                    </Col>\r\n                </Row>\r\n                <br></br>\r\n                <Row>\r\n                    <Col>\r\n                        <Form.Label>Add Project Phases</Form.Label><Button className=\"addMembers\" onClick={()=>setPhaseModaInUpdate(true)}><i className=\"fa fa-plus\"></i></Button>\r\n                        <ListGroup variant=\"flush\" className='teamlist'>\r\n\r\n                        {updateProjectPhases.map((element, index)=>\r\n                            <ListGroup.Item as=\"li\" key={index} className='phaseListItem'>\r\n                                 <Container>\r\n                                    <Row>\r\n                                        <Col sm lg={8}> Phase {index + 1} {element.PhaseTitle}   </Col>\r\n                                        <Col sm lg={2}>  <i className=\"fa fa-edit phaseEditBtn\" id={element.PhaseTitle} onClick={editPhaseInUpdate}></i>  <br></br> </Col>\r\n                                        <Col sm lg={2}> <i className=\"fa fa-trash phaseTrashBtn\" id={element.PhaseTitle} onClick={removePhaseInUpdate}></i>     </Col>\r\n                                    </Row>\r\n                                </Container>     \r\n                            </ListGroup.Item>\r\n                        )}\r\n\r\n                        </ListGroup>                \r\n                    </Col>\r\n                </Row>\r\n                <br></br>\r\n                <Row>\r\n                    <Col>\r\n                    <Form.Label>Add Team Members</Form.Label><Button className='addMembers' onClick={()=>setSmShow(true)}><i className=\"fa fa-plus\"></i></Button>\r\n                    <ListGroup variant=\"flush\" className='teamlist'>\r\n                        {members.map( (members, index) =>\r\n                            <ListGroup.Item as=\"li\" key={index}  className=\"d-flex justify-content-between align-items-start phaseListItem\">\r\n                                <Container>\r\n                                <Row className=\"justify-content-md-center\">\r\n                                    <Col lg=\"3\">\r\n                                        <img \r\n                                            src={members.image}\r\n                                            onError={(e)=>{e.target.onError = null; e.target.src = image_S1}}\r\n                                            className=\"profileImages\"\r\n                                        />\r\n                                    </Col>\r\n                                    <Col lg=\"3\">\r\n                                        <h6>{members.name}</h6>\r\n                                        \r\n                                    </Col>\r\n                                    <Col lg=\"4\">\r\n                                    {members.designation ?\r\n                                        <p id={members._id} onClick={changeDesig} className=\"changeDesig\">{members.designation}</p> \r\n                                    :\r\n                                        <p id={members._id} onClick={changeDesig} className=\"changeDesig\">Add Designation</p> \r\n                                    }                                   \r\n                                    </Col>\r\n                                    <Col lg=\"2\">\r\n                                        <i className=\"fa fa-trash phaseTrashBtn\" id={members._id} onClick={removeMember}></i>\r\n                                    </Col>\r\n                                </Row>\r\n                                </Container>\r\n                            </ListGroup.Item>\r\n                        )}\r\n\r\n                        </ListGroup>\r\n                        </Col>\r\n                    </Row>\r\n                    <br></br>\r\n                    <Row className=\"justify-content-md-center\">\r\n                        <Col sm lg={5}>\r\n                        <Button className='projectSubmitBtn' variant=\"primary\" type=\"submit\" onClick={handleUpdateProject}>\r\n                            Update Project\r\n                        </Button>\r\n                        </Col>\r\n                        \r\n                    </Row>\r\n                </Container>\r\n            </Form>\r\n            \r\n            :\r\n                <p>No selected Project</p>\r\n            }\r\n                \r\n                <br></br>\r\n                <br></br>\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      \r\n\r\n\r\n      {/* Add Members */}\r\n\r\n      <Modal size=\"sm\" show={smShow} onHide={() => setSmShow(false)} aria-labelledby=\"example-modal-sizes-title-sm\">\r\n            <Modal.Header closeButton className='modalHeader'>\r\n                <Modal.Title id=\"example-modal-sizes-title-sm\">Add Members</Modal.Title>           \r\n            </Modal.Header>\r\n            <Modal.Body className='modalBody'>\r\n                <Container>\r\n                <Row >\r\n                    <Col>\r\n                        <InputGroup className=\"mb-3\">\r\n                        <Form.Control\r\n                            placeholder=\"Search Members\"\r\n                            aria-label=\"Recipient's username\"\r\n                            aria-describedby=\"basic-addon2\"\r\n                            value={txtInput}\r\n                            onChange={handelChange}\r\n                            className='formInput'\r\n                        />\r\n                    </InputGroup>\r\n\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <ListGroup variant=\"flush\">\r\n                        {allfriends.map( (allfriends, index) =>\r\n                            <ListGroup.Item as=\"li\" key={index}  className=\"d-flex justify-content-between align-items-start membersList\" >\r\n                                <Row>\r\n                                    <Col>\r\n                                        <img \r\n                                            src={allfriends.image}\r\n                                            onError={(e)=>{e.target.onError = null; e.target.src = image_S1}}\r\n                                            className=\"profileImages\"\r\n                                        />\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <p>{allfriends.name}</p>\r\n                                    </Col>\r\n                                    <Col>\r\n                                    <i className=\"fa fa-plus addFriendIcon\" id={allfriends._id} onClick={addMember}></i>\r\n                                    </Col>\r\n                                </Row>\r\n                            </ListGroup.Item>\r\n                        )}\r\n                        </ListGroup>\r\n                    </Col>\r\n                </Row>\r\n                </Container>\r\n            </Modal.Body>\r\n            </Modal>\r\n\r\n\r\n\r\n                            {/* Changing Designation */}\r\n\r\n            <Modal size=\"sm\" show={desigModal} onHide={() => setDesigModal(false)} aria-labelledby=\"example-modal-sizes-title-sm\">\r\n              <Modal.Header closeButton className='modalHeader'>\r\n                <Modal.Title id=\"example-modal-sizes-title-sm\">\r\n                    Add Designation\r\n                </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body className='modalBody'>\r\n                <Container>\r\n                <Row >\r\n                    <Col>\r\n\r\n                    <InputGroup className=\"mb-3\">\r\n                        <FormControl\r\n                            placeholder=\"Enter Designation\"\r\n                            aria-label=\"Recipient's username\"\r\n                            aria-describedby=\"basic-addon2\"\r\n                            className='formInput'\r\n                            onChange={handelDesigInput}\r\n                        />\r\n                        <Button variant=\"outline-secondary\" className='searchBtn' id=\"button-addon2\" onClick={handleDeisgBtn}>\r\n                            <i className=\"fa fa-plus\"></i>\r\n                        </Button>\r\n                        </InputGroup>\r\n                    </Col>\r\n                </Row>\r\n                </Container>\r\n            </Modal.Body>\r\n            </Modal>\r\n\r\n\r\n\r\n                      \r\n\r\n            \r\n                {/* Phase Modal In Update*/}\r\n\r\n\r\n            <Modal size=\"sm\" show={phaseModaInUpdate} onHide={() => setPhaseModaInUpdate(false)} aria-labelledby=\"example-modal-sizes-title-sm\">\r\n            <Modal.Header closeButton className='modalHeader'>\r\n            <Modal.Title id=\"example-modal-sizes-title-sm\">\r\n                Project Phases\r\n            </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body className='modalBody'>\r\n                <Container>\r\n                    <p>You can only add 1 to 10 phases per project.</p>\r\n                    <Form noValidate  onSubmit={handlePhasesInputInUpdate}>\r\n                        <Form.Group  controlId=\"validationCustom01\">\r\n                            <Form.Label>Phase Title</Form.Label>\r\n                            <Form.Control\r\n                                required\r\n                                type=\"text\"\r\n                                placeholder=\"Phase Title\"\r\n                                onChange={(e)=>setPhaseInput(e.target.value)} \r\n                                isValid={phaseInput}\r\n                                className=\"formInput\"\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">\r\n                                Invalid Input\r\n                            </Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <br></br>\r\n                        <Button type=\"submit\" className='phaseBtn'>\r\n                            <i className=\"fa fa-plus\"></i>\r\n                        </Button>\r\n                    </Form>\r\n                </Container>\r\n            </Modal.Body>\r\n            </Modal>\r\n\r\n\r\n\r\n\r\n             {/* Phase Edit Modal In Update*/}\r\n\r\n             <Modal size=\"sm\" show={phaseEditModalInUpdate} onHide={() => setPhaseEditModalInUpdate(false)} aria-labelledby=\"example-modal-sizes-title-sm\">\r\n               <Modal.Header closeButton className='modalHeader'>\r\n                    <Modal.Title id=\"example-modal-sizes-title-sm\">\r\n                        Edit Phases\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body className='modalBody'>\r\n                <Container>\r\n                    <Form noValidate  onSubmit={handlePhaseEditInUpdate}>\r\n                        <Form.Group  controlId=\"validationCustom01\">\r\n                            <Form.Label>Phase Title </Form.Label>\r\n                            <Form.Control\r\n                                required\r\n                                type=\"text\"\r\n                                placeholder=\"Phase Title\"\r\n                                defaultValue={phaseEditInput}\r\n                                onChange={(e)=>setPhaseInput(e.target.value)} \r\n                                isValid={phaseInput}\r\n                                className=\"formInput\"\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">\r\n                                Invalid Input\r\n                            </Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <br></br>\r\n                        <Button type=\"submit\" className='saveBtnPhase'>\r\n                            Save Changes\r\n                        </Button>\r\n                    </Form>\r\n                </Container>\r\n                </Modal.Body>\r\n            </Modal>\r\n\r\n\r\n\r\n\r\n            {/* Alert Modal */}\r\n\r\n            <Modal size=\"sm\" show={showAlert} onHide={handleAlertClose} backdrop=\"static\" keyboard={false} aria-labelledby=\"example-modal-sizes-title-sm\">\r\n            <Modal.Header closeButton className='modalHeader'>\r\n                <Modal.Title id=\"example-modal-sizes-title-sm\">{alertTitle}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body className='modalBodyStatic'>\r\n                <p>{alertMessage}</p>\r\n            </Modal.Body>\r\n            <Modal.Footer className='modalFooter'>\r\n                <Button className='saveBtn' onClick={handleAlertClose}>Ok</Button> \r\n            </Modal.Footer>\r\n            </Modal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UpdateProject"]},"metadata":{},"sourceType":"module"}