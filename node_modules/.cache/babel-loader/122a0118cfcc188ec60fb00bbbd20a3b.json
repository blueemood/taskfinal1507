{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Asus/Desktop/test11070/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Asus/Desktop/test11070/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Asus\\\\Desktop\\\\test11070\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useContext,useEffect}from'react';import'../stylesheets/displayProjects.css';import{Row,Col,Container,Card,CardGroup,ProgressBar,Navbar,Nav,NavDropdown,Form,Image,Button,ListGroup,Offcanvas,InputGroup,Modal}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProjectChat=function ProjectChat(_ref){var projectData=_ref.projectData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showAlert=_useState4[0],setShowAlert=_useState4[1];var handleAlertClose=function handleAlertClose(){setShowAlert(false);};var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),alertMessage=_useState6[0],setAlertMessage=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),alertTitle=_useState8[0],setAlertTitle=_useState8[1];var handleCreateChat=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var selectedProjectId,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:selectedProjectId=e.target.id;_context.prev=1;_context.next=4;return fetch('https://taskhive-backend-testing.onrender.com/createProjectChat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({selectedProjectId:selectedProjectId})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;if(response.status===201&&data){setAlertTitle(\"Alert\");setAlertMessage(data.message);setShowAlert(true);}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 14:setShow(false);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function handleCreateChat(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"selectedListItem\",onClick:function onClick(){return setShow(true);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-comments\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Create Group Chat\"]}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:function onHide(){return setShow(false);},children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"modalHeader\",children:projectData?/*#__PURE__*/_jsx(Modal.Title,{children:projectData.projectTitle}):/*#__PURE__*/_jsx(Modal.Title,{children:\"Selected Project\"})}),/*#__PURE__*/_jsxs(Modal.Body,{className:\"modalBodyStatic\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Click on \",/*#__PURE__*/_jsx(\"b\",{children:\"Create Chat\"}),\" button will create a group chat for this project which will include all project members.\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"For adding or removing members please update project members in \",/*#__PURE__*/_jsx(\"b\",{children:\"Update project\"}),\" section.\"]})]}),/*#__PURE__*/_jsx(Modal.Footer,{className:\"modalFooter\",children:projectData?/*#__PURE__*/_jsx(Button,{className:\"saveBtn\",id:projectData._id,onClick:handleCreateChat,children:\"Create Chat\"}):/*#__PURE__*/_jsx(Button,{className:\"saveBtn\",children:\"Ok\"})})]}),/*#__PURE__*/_jsxs(Modal,{size:\"sm\",show:showAlert,onHide:handleAlertClose,backdrop:\"static\",keyboard:false,\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"modalHeader\",children:/*#__PURE__*/_jsx(Modal.Title,{id:\"example-modal-sizes-title-sm\",children:alertTitle})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"modalBodyStatic\",children:/*#__PURE__*/_jsx(\"p\",{children:alertMessage})}),/*#__PURE__*/_jsx(Modal.Footer,{className:\"modalFooter\",children:/*#__PURE__*/_jsx(Button,{className:\"saveBtn\",onClick:handleAlertClose,children:\"Ok\"})})]})]});};export default ProjectChat;","map":{"version":3,"sources":["C:/Users/Asus/Desktop/test11070/src/components/ProjectChat.js"],"names":["React","useState","useContext","useEffect","Row","Col","Container","Card","CardGroup","ProgressBar","Navbar","Nav","NavDropdown","Form","Image","Button","ListGroup","Offcanvas","InputGroup","Modal","ProjectChat","projectData","show","setShow","showAlert","setShowAlert","handleAlertClose","alertMessage","setAlertMessage","alertTitle","setAlertTitle","handleCreateChat","e","selectedProjectId","target","id","fetch","method","headers","body","JSON","stringify","response","json","data","status","message","console","log","projectTitle","_id"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect} from 'react'\r\nimport '../stylesheets/displayProjects.css'\r\nimport { Row, Col, Container, Card, CardGroup, ProgressBar, Navbar, Nav, NavDropdown, Form, Image, Button, ListGroup, Offcanvas, InputGroup, Modal } from 'react-bootstrap';\r\n\r\n\r\nconst ProjectChat = ({projectData}) => {\r\n    const [show, setShow] = useState(false);\r\n    const [showAlert, setShowAlert] = useState(false);\r\n    const handleAlertClose = () =>{setShowAlert(false);}\r\n    const [alertMessage, setAlertMessage] = useState(\"\");\r\n    const [alertTitle, setAlertTitle] = useState(\"\");\r\n\r\n    const handleCreateChat = async (e) =>{\r\n        let selectedProjectId = e.target.id;\r\n\r\n        try {\r\n            const response = await fetch('https://taskhive-backend-testing.onrender.com/createProjectChat', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type' : 'application/json' \r\n                },\r\n                body: JSON.stringify({selectedProjectId}),\r\n            })\r\n\r\n            const data = await response.json();\r\n\r\n            if(response.status === 201 && data){\r\n                setAlertTitle(\"Alert\")\r\n                setAlertMessage(data.message);\r\n                setShowAlert(true);\r\n            }\r\n            \r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        setShow(false);\r\n    }\r\n  \r\n  return (\r\n    <>\r\n        <ListGroup.Item className='selectedListItem' onClick={() => setShow(true)}>\r\n            <i className='far fa-comments'></i>         \r\n            <br></br>\r\n            Create Group Chat\r\n        </ListGroup.Item>\r\n\r\n        <Modal show={show} onHide={() => setShow(false)} >\r\n            <Modal.Header closeButton className='modalHeader'>\r\n                {projectData ?\r\n                    <Modal.Title>{projectData.projectTitle}</Modal.Title>\r\n                :\r\n                    <Modal.Title>Selected Project</Modal.Title>\r\n                }   \r\n            </Modal.Header>\r\n            <Modal.Body className='modalBodyStatic'>\r\n                <p>Click on <b>Create Chat</b> button will create a group chat for this project which will \r\n                include all project members.</p>\r\n                <p>For adding or removing members please update project members in <b>Update project</b> section.</p>\r\n            </Modal.Body>\r\n            <Modal.Footer className='modalFooter'>\r\n                {projectData ?\r\n                    <Button className='saveBtn' id={projectData._id} onClick={handleCreateChat}>Create Chat</Button>\r\n                    :\r\n                    <Button className='saveBtn'>Ok</Button>\r\n                }\r\n            </Modal.Footer>\r\n        </Modal> \r\n\r\n\r\n\r\n                {/* Alert Modal */}\r\n\r\n        <Modal size=\"sm\" show={showAlert} onHide={handleAlertClose} backdrop=\"static\" keyboard={false} aria-labelledby=\"example-modal-sizes-title-sm\">\r\n            <Modal.Header closeButton className='modalHeader'>\r\n                <Modal.Title id=\"example-modal-sizes-title-sm\">{alertTitle}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body className='modalBodyStatic'>\r\n                <p>{alertMessage}</p>\r\n            </Modal.Body>\r\n            <Modal.Footer className='modalFooter'>\r\n                <Button className='saveBtn' onClick={handleAlertClose}>Ok</Button> \r\n            </Modal.Footer>\r\n        </Modal>   \r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProjectChat"]},"metadata":{},"sourceType":"module"}