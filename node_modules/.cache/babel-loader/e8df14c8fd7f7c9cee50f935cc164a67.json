{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Asus/Desktop/test11070/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Asus/Desktop/test11070/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Asus\\\\Desktop\\\\test11070\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useContext,useEffect}from'react';import'../stylesheets/notes.css';import{Row,Col,Container,Card,CardGroup,ProgressBar,Navbar,Nav,NavDropdown,Form,Image,Button,ListGroup,Offcanvas,InputGroup,Modal}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UpdateNotes=function UpdateNotes(_ref){var noteData=_ref.noteData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAlert=_useState2[0],setShowAlert=_useState2[1];var handleAlertClose=function handleAlertClose(){setShowAlert(false);};var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),alertMessage=_useState4[0],setAlertMessage=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),alertTitle=_useState6[0],setAlertTitle=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),modalShow=_useState8[0],setModalShow=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),noteTitle=_useState10[0],setNoteTitle=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),noteText=_useState12[0],setNoteText=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),noteId=_useState14[0],setNoteId=_useState14[1];var setNoteForm=function setNoteForm(){if(noteData){setNoteTitle(noteData.currentNote.noteTitle);setNoteText(noteData.currentNote.noteText);setNoteId(noteData.currentNote._id);}};useEffect(function(){setNoteForm();},[]);var handleNoteSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(noteTitle&&noteText)){_context.next=17;break;}_context.prev=2;_context.next=5;return fetch('https://taskhive-backend-testing.onrender.com/updateCurrentNote',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({noteTitle:noteTitle,noteText:noteText,noteId:noteId})});case 5:response=_context.sent;_context.next=8;return response.json();case 8:data=_context.sent;if(response.status===201&&data){setAlertTitle(\"Alert\");setAlertMessage(\"Note Created\");setShowAlert(true);setNoteTitle(\"\");setNoteText(\"\");setModalShow(false);noteData.setFecthTasks(data);}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 15:_context.next=20;break;case 17:setAlertTitle(\"Alert\");setAlertMessage(\"Please fill the form correctly.\");setShowAlert(true);case 20:case\"end\":return _context.stop();}}},_callee,null,[[2,12]]);}));return function handleNoteSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"selectedListBtn\",onClick:function onClick(){return setModalShow(true);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-edit\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Edit Note\"]}),/*#__PURE__*/_jsxs(Modal,{size:\"lg\",show:modalShow,onHide:function onHide(){return setModalShow(false);},backdrop:\"static\",keyboard:false,\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"modalHeader\",children:/*#__PURE__*/_jsx(Modal.Title,{id:\"contained-modal-title-vcenter\",children:\"Modal heading \"})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"modalBodyStatic\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Form,{method:\"POST\",children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",className:\"formInput\",placeholder:\"Title\",value:noteTitle,onChange:function onChange(e){return setNoteTitle(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Note\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",className:\"formInput\",rows:3,value:noteText,onChange:function onChange(e){return setNoteText(e.target.value);}})]})]})})}),/*#__PURE__*/_jsx(Modal.Footer,{className:\"modalFooter\",children:/*#__PURE__*/_jsx(Button,{className:\"saveBtn\",variant:\"primary\",type:\"submit\",onClick:handleNoteSubmit,children:\"Save\"})})]}),/*#__PURE__*/_jsxs(Modal,{size:\"sm\",show:showAlert,onHide:handleAlertClose,backdrop:\"static\",keyboard:false,\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"modalHeader\",children:/*#__PURE__*/_jsx(Modal.Title,{id:\"example-modal-sizes-title-sm\",children:alertTitle})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"modalBodyStatic\",children:/*#__PURE__*/_jsx(\"p\",{children:alertMessage})}),/*#__PURE__*/_jsx(Modal.Footer,{className:\"modalFooter\",children:/*#__PURE__*/_jsx(Button,{className:\"saveBtn\",onClick:handleAlertClose,children:\"Ok\"})})]})]});};export default UpdateNotes;","map":{"version":3,"sources":["C:/Users/Asus/Desktop/test11070/src/components/UpdateNotes.js"],"names":["React","useState","useContext","useEffect","Row","Col","Container","Card","CardGroup","ProgressBar","Navbar","Nav","NavDropdown","Form","Image","Button","ListGroup","Offcanvas","InputGroup","Modal","UpdateNotes","noteData","showAlert","setShowAlert","handleAlertClose","alertMessage","setAlertMessage","alertTitle","setAlertTitle","modalShow","setModalShow","noteTitle","setNoteTitle","noteText","setNoteText","noteId","setNoteId","setNoteForm","currentNote","_id","handleNoteSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","status","setFecthTasks","console","log","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect} from 'react'\r\nimport '../stylesheets/notes.css'\r\nimport { Row, Col, Container, Card, CardGroup, ProgressBar, Navbar, Nav, NavDropdown, Form, Image, Button, ListGroup, Offcanvas, InputGroup, Modal } from 'react-bootstrap';\r\n\r\n\r\nconst UpdateNotes = ({noteData}) => {\r\n\r\n    const [showAlert, setShowAlert] = useState(false);\r\n    const handleAlertClose = () =>{setShowAlert(false);}\r\n    const [alertMessage, setAlertMessage] = useState(\"\");\r\n    const [alertTitle, setAlertTitle] = useState(\"\");\r\n    const [modalShow, setModalShow] = useState(false);\r\n    const [noteTitle, setNoteTitle] = useState(\"\");\r\n    const [noteText, setNoteText] = useState(\"\");\r\n    const [noteId, setNoteId] = useState(\"\");\r\n\r\n\r\n    const setNoteForm = () =>{\r\n        if(noteData){\r\n            setNoteTitle(noteData.currentNote.noteTitle);\r\n            setNoteText(noteData.currentNote.noteText);\r\n            setNoteId(noteData.currentNote._id);\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setNoteForm();\r\n    },[])\r\n\r\n\r\n\r\n    const handleNoteSubmit = async (e) =>{\r\n        e.preventDefault();\r\n        if(noteTitle && noteText){\r\n            try {\r\n                const response = await fetch('https://taskhive-backend-testing.onrender.com/updateCurrentNote', {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type' : 'application/json' \r\n                    },\r\n                    body: JSON.stringify({noteTitle, noteText, noteId}),\r\n                })\r\n    \r\n                const data = await response.json();\r\n    \r\n                if(response.status === 201 && data){\r\n                    setAlertTitle(\"Alert\");\r\n                    setAlertMessage(\"Note Created\");\r\n                    setShowAlert(true);\r\n                    setNoteTitle(\"\");\r\n                    setNoteText(\"\");\r\n                    setModalShow(false);\r\n                    noteData.setFecthTasks(data);\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }else{\r\n            setAlertTitle(\"Alert\");\r\n            setAlertMessage(\"Please fill the form correctly.\");\r\n            setShowAlert(true);\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n  return (\r\n    <>\r\n        <ListGroup.Item className='selectedListBtn' onClick={() => setModalShow(true)}>\r\n          <i className='fa fa-edit'></i>         \r\n          <br></br>\r\n          Edit Note\r\n        </ListGroup.Item>\r\n\r\n        <Modal size=\"lg\" show={modalShow} onHide={() => setModalShow(false)} backdrop=\"static\" keyboard={false} aria-labelledby=\"contained-modal-title-vcenter\" centered >\r\n            <Modal.Header closeButton className='modalHeader'>\r\n                <Modal.Title id=\"contained-modal-title-vcenter\">Modal heading </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body className='modalBodyStatic'>\r\n                <Container>\r\n                    <Form method='POST'>\r\n                        <Form.Group className=\"mb-3\">\r\n                            <Form.Label>Title</Form.Label>\r\n                            <Form.Control type=\"text\" className='formInput' placeholder=\"Title\" value={noteTitle} onChange={(e)=>setNoteTitle(e.target.value)} />\r\n                        </Form.Group>\r\n                        <Form.Group className=\"mb-3\">\r\n                            <Form.Label>Note</Form.Label>\r\n                            <Form.Control as=\"textarea\" className='formInput' rows={3} value={noteText} onChange={(e)=>setNoteText(e.target.value)} />\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Container>\r\n            </Modal.Body>\r\n            <Modal.Footer className='modalFooter'>\r\n                <Button className='saveBtn' variant=\"primary\" type=\"submit\" onClick={handleNoteSubmit}>Save</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n\r\n\r\n\r\n\r\n         {/* Alert Modal */}\r\n\r\n         <Modal size=\"sm\" show={showAlert} onHide={handleAlertClose} backdrop=\"static\" keyboard={false} aria-labelledby=\"example-modal-sizes-title-sm\">\r\n            <Modal.Header closeButton className='modalHeader'>\r\n                <Modal.Title id=\"example-modal-sizes-title-sm\">{alertTitle}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body className='modalBodyStatic'>\r\n                <p>{alertMessage}</p>\r\n            </Modal.Body>\r\n            <Modal.Footer className='modalFooter'>\r\n                <Button className='saveBtn' onClick={handleAlertClose}>Ok</Button> \r\n            </Modal.Footer>\r\n        </Modal>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UpdateNotes"]},"metadata":{},"sourceType":"module"}