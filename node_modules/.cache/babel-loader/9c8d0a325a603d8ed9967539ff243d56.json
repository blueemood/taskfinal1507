{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Asus/Desktop/test11070/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Asus/Desktop/test11070/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Asus\\\\Desktop\\\\test11070\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect,useContext,useRef}from'react';import{useNavigate,NavLink}from'react-router-dom';import{Row,Col,Container,Fade,Button,ListGroup,Badge}from'react-bootstrap';import Offcanvas from'react-bootstrap/Offcanvas';import'../stylesheets/todos.css';import TodoForm from'./TodoForm';import{UserContext}from'../App';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SideNavbar=function SideNavbar(){var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var _useState=useState(),_useState2=_slicedToArray(_useState,2),fecthTasks=_useState2[0],setFecthTasks=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tasks=_useState4[0],setTasks=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),taskUpdate=_useState6[0],setTaskUpdate=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];var handleClose=function handleClose(){setShow(false);setTaskUpdate(null);};var handleShow=function handleShow(){return setShow(true);};var showTasks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var userProfile,tok,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;userProfile=JSON.parse(localStorage.getItem('User'));// Access the tok value from the userProfile\ntok=userProfile.tok;// Use the tok value as needed in your frontend code\nconsole.log(tok);// Example usage\n_context.next=6;return fetch('https://taskhive-backend-testing.onrender.com/showTasks',{method:'GET',headers:{Authorization:\"Bearer \".concat(tok)}});case 6:response=_context.sent;_context.next=9;return response.json();case 9:data=_context.sent;console.log(data);setTasks(data);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,14]]);}));return function showTasks(){return _ref.apply(this,arguments);};}();useEffect(function(){showTasks();},[fecthTasks]);var handleClick=function handleClick(e){var taskId=e.target.id;var findTask=tasks.find(function(clickedTask){return clickedTask._id===taskId;});var oldDate=new Date(findTask.date);var day=oldDate.getDate();var month=oldDate.getMonth()+1;var year=oldDate.getFullYear();if(month<10)month=\"0\"+month;if(day<10)day=\"0\"+day;var fullDate=year+\"-\"+month+\"-\"+day;findTask.date=fullDate;setTaskUpdate(findTask);// taskUpdate = findTask;\n// taskUpdate.current = findTask;\n// navigate(\"/updateForm\", {state : {findTask}})\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"navList\",onClick:handleShow,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-tasks\",children:\"\\xA0\"}),' ',\"To-Do List\"]}),/*#__PURE__*/_jsxs(Offcanvas,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Offcanvas.Header,{closeButton:true,className:\"todoOffCanvas\",children:/*#__PURE__*/_jsx(Offcanvas.Title,{children:\"To-Do-List\"})}),/*#__PURE__*/_jsxs(Offcanvas.Body,{className:\"todoOffCanvas\",children:[/*#__PURE__*/_jsx(TodoForm,{clickedTask:{taskUpdate:taskUpdate,setFecthTasks:setFecthTasks}}),/*#__PURE__*/_jsx(Container,{className:\"todosContainer\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(ListGroup,{as:\"ol\",variant:\"flush\",numbered:true,className:\"todosList\",children:tasks.map(function(tasks,index){return/*#__PURE__*/_jsxs(ListGroup.Item,{as:\"li\",className:\"d-flex justify-content-between align-items-start todosList\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"category\",className:\"ms-2 me-auto\",children:[/*#__PURE__*/_jsx(\"div\",{id:tasks._id,onClick:handleClick,className:\"fw-bold cursor-pointer\",children:tasks.task}),tasks.category]}),/*#__PURE__*/_jsxs(Badge,{id:\"date\",bg:\"primary\",pill:true,className:\"badgeList\",children:['Due Date: ',new Date(tasks.date).toLocaleDateString()]})]},index);})})})})})]})]})]});};export default SideNavbar;","map":{"version":3,"sources":["C:/Users/Asus/Desktop/test11070/src/components/Todos.js"],"names":["React","useState","useEffect","useContext","useRef","useNavigate","NavLink","Row","Col","Container","Fade","Button","ListGroup","Badge","Offcanvas","TodoForm","UserContext","SideNavbar","state","dispatch","fecthTasks","setFecthTasks","tasks","setTasks","taskUpdate","setTaskUpdate","show","setShow","handleClose","handleShow","showTasks","userProfile","JSON","parse","localStorage","getItem","tok","console","log","fetch","method","headers","Authorization","response","json","data","handleClick","e","taskId","target","id","findTask","find","clickedTask","_id","oldDate","Date","date","day","getDate","month","getMonth","year","getFullYear","fullDate","map","index","task","category","toLocaleDateString"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext, useRef } from 'react';\r\nimport { useNavigate, NavLink } from 'react-router-dom'\r\nimport { Row, Col, Container, Fade, Button, ListGroup, Badge } from 'react-bootstrap';\r\nimport Offcanvas from 'react-bootstrap/Offcanvas';\r\nimport '../stylesheets/todos.css'\r\nimport TodoForm from './TodoForm';\r\nimport { UserContext } from '../App'\r\n\r\nconst SideNavbar = () => {\r\n\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const [fecthTasks, setFecthTasks] = useState();\r\n  const [tasks, setTasks] = useState([]);\r\n  const [taskUpdate, setTaskUpdate] = useState();\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => {\r\n    setShow(false);\r\n    setTaskUpdate(null);\r\n  }\r\n  const handleShow = () => setShow(true);\r\n\r\n\r\n\r\n\r\n  const showTasks = async () => {\r\n    try {\r\n      const userProfile = JSON.parse(localStorage.getItem('User'));\r\n\r\n      // Access the tok value from the userProfile\r\n      const tok = userProfile.tok;\r\n      \r\n      // Use the tok value as needed in your frontend code\r\n      console.log(tok); // Example usage\r\n      const response = await fetch('https://taskhive-backend-testing.onrender.com/showTasks', {\r\n        method: 'GET',\r\n        headers: {\r\n          Authorization: `Bearer ${tok}`,\r\n        },\r\n      });\r\n\r\n      const data = await response.json();\r\n      console.log(data)\r\n      setTasks(data);\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    showTasks();\r\n  }, [fecthTasks])\r\n\r\n\r\n  const handleClick = (e) => {\r\n\r\n    const taskId = e.target.id;\r\n\r\n    const findTask = tasks.find(clickedTask => clickedTask._id === taskId);\r\n\r\n    let oldDate = new Date(findTask.date)\r\n    let day = oldDate.getDate();\r\n    let month = oldDate.getMonth() + 1;\r\n    let year = oldDate.getFullYear();\r\n\r\n    if (month < 10) month = \"0\" + month;\r\n    if (day < 10) day = \"0\" + day;\r\n\r\n    let fullDate = year + \"-\" + month + \"-\" + day;\r\n\r\n    findTask.date = fullDate;\r\n\r\n    setTaskUpdate(findTask)\r\n    // taskUpdate = findTask;\r\n    // taskUpdate.current = findTask;\r\n    // navigate(\"/updateForm\", {state : {findTask}})\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ListGroup.Item className='navList' onClick={handleShow}>\r\n        <i className='fas fa-tasks'>&nbsp;</i>\r\n        {' '}\r\n        To-Do List\r\n      </ListGroup.Item>\r\n\r\n      <Offcanvas show={show} onHide={handleClose} >\r\n        <Offcanvas.Header closeButton className='todoOffCanvas'>\r\n          <Offcanvas.Title>To-Do-List</Offcanvas.Title>\r\n        </Offcanvas.Header>\r\n        <Offcanvas.Body className='todoOffCanvas'>\r\n          <TodoForm clickedTask={{ taskUpdate, setFecthTasks }} />\r\n          <Container className='todosContainer'>\r\n            <Row>\r\n              <Col>\r\n                <ListGroup as=\"ol\" variant=\"flush\" numbered className='todosList'>\r\n                  {tasks.map((tasks, index) =>\r\n                    <ListGroup.Item as=\"li\" key={index} className=\"d-flex justify-content-between align-items-start todosList\">\r\n                      <div id='category' className=\"ms-2 me-auto\">\r\n                        <div id={tasks._id} onClick={handleClick} className=\"fw-bold cursor-pointer\">\r\n                          {tasks.task}\r\n                        </div>\r\n\r\n                        {tasks.category}\r\n                      </div>\r\n                      <Badge id='date' bg=\"primary\" pill className='badgeList'>\r\n                        {'Due Date: '}{new Date(tasks.date).toLocaleDateString()}\r\n                      </Badge>\r\n                    </ListGroup.Item>\r\n                  )}\r\n                </ListGroup>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n\r\n\r\n\r\n        </Offcanvas.Body>\r\n      </Offcanvas>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SideNavbar\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}